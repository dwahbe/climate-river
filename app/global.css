/* Tailwind v4 entry */
@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* Details element animation */
details {
  @media (prefers-reduced-motion: no-preference) {
    interpolate-size: allow-keywords;
  }

  &::details-content {
    opacity: 0;
    block-size: 0;
    overflow-y: clip;
    transition:
      content-visibility 0.375s allow-discrete,
      opacity 0.375s,
      block-size 0.375s;
  }

  &[open]::details-content {
    opacity: 1;
    block-size: auto;
  }
}

summary::-webkit-details-marker {
  display: none;
}

/* --- Base (theme + defaults) --- */
@layer base {
  :root {
    color-scheme: light;
    --bg: #fffdf8;
    --ink: #0f0f0f;
    --muted: #6b6b6b;
    --line: #eceae4;
  }

  html,
  body {
    @apply h-full bg-zinc-50 text-zinc-900 antialiased;
  }

  /* No global <a> styling here on purpose */
}

/* --- Components (scoped helpers) --- */
@layer components {
  /* Article/content links only */
  .content a {
    @apply underline underline-offset-4 decoration-zinc-300 hover:decoration-zinc-400;
  }

  /* Navbar links: clean, no underline */
  .nav-link {
    @apply no-underline text-zinc-600 hover:text-zinc-900 transition-colors;
  }

  .btn-ghost {
    @apply no-underline rounded-md px-2.5 py-1.5 text-sm text-zinc-600
           hover:text-zinc-900 hover:bg-zinc-50 border border-transparent
           hover:border-zinc-200 transition;
  }
  .content a.headline-link {
    @apply no-underline;
  }
  .content a.headline-link:hover {
    @apply underline underline-offset-4 decoration-zinc-400;
  }
  /* Publisher/source links: no underline (even inside .content) */
  .content a.source-link {
    @apply no-underline hover:no-underline;
  }
  .icon-btn {
    @apply inline-flex items-center justify-center rounded-md p-2
           text-zinc-600 hover:text-zinc-900 hover:bg-zinc-50
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-300;
  }

  /* Hide scrollbar for horizontal scroll components */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari, and Opera */
  }

  /* Mobile-optimized horizontal scrolling - only on touch devices */
  @media (hover: none) and (pointer: coarse) {
    .mobile-scroll {
      -webkit-overflow-scrolling: touch; /* iOS momentum scrolling */
      overscroll-behavior-x: contain; /* Prevent page scroll when reaching scroll bounds */
      touch-action: pan-x; /* Only allow horizontal panning */
    }
  }

  /* All devices get smooth scrolling */
  .mobile-scroll {
    scroll-behavior: smooth;
  }
}

/* Optional tiny reset */
* {
  box-sizing: border-box;
}

/* Quiet links, underline only on hover */
.content a {
  text-decoration: none;
  text-underline-offset: 2px;
}
.content a:hover {
  text-decoration: underline;
}

/* Reusable focus ring helper (used via focus-visible:focus-ring) */
.focus-ring {
  outline: none;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.25);
}

/* Subtle body text color baseline (optional) */
body {
  color: #0a0a0a;
}
