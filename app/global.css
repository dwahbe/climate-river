/* Tailwind v4 entry */
@import "tailwindcss";
@plugin '@tailwindcss/typography';

/* Details element animation */
details {
  @media (prefers-reduced-motion: no-preference) {
    interpolate-size: allow-keywords;
  }

  &::details-content {
    opacity: 0;
    block-size: 0;
    overflow-y: clip;
    transition:
      content-visibility 0.375s allow-discrete,
      opacity 0.375s,
      block-size 0.375s;
  }

  &[open]::details-content {
    opacity: 1;
    block-size: auto;
  }
}

summary::-webkit-details-marker {
  display: none;
}

/* --- Base (theme + defaults) --- */
@layer base {
  :root {
    color-scheme: light;
    --bg: #fffdf8;
    --ink: #0f0f0f;
    --muted: #6b6b6b;
    --line: #eceae4;
  }

  html {
    overflow-x: hidden;
    overscroll-behavior-x: none;
  }

  html,
  body {
    @apply h-full bg-zinc-50 text-zinc-900 antialiased;
    max-width: 100%;
  }

  /* No global <a> styling here on purpose */
}

/* --- Components (scoped helpers) --- */
@layer components {
  /* Article/content links only */
  .content a {
    @apply underline underline-offset-4 decoration-zinc-300 hover:decoration-zinc-400;
  }
  .content a.headline-link {
    @apply no-underline;
  }
  .content a.headline-link:hover {
    @apply underline underline-offset-4 decoration-zinc-400;
  }
  /* Publisher/source links: no underline (even inside .content) */
  .content a.source-link {
    @apply no-underline hover:no-underline;
  }
}

/* Optional tiny reset */
* {
  box-sizing: border-box;
}

/* Quiet links, underline only on hover */
.content a {
  text-decoration: none;
  text-underline-offset: 2px;
}
.content a:hover {
  text-decoration: underline;
}

/* Reusable focus ring helper (used via focus-visible:focus-ring) */
.focus-ring {
  outline: none;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.25);
}

/* Subtle body text color baseline (optional) */
body {
  color: #0a0a0a;
}

/* Reader panel animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Apple Reader View-inspired prose styling */
.prose-reader {
  /* Base: 17px like Apple Reader default */
  font-size: 1.0625rem;
  line-height: 1.58;
  letter-spacing: -0.003em;
}

.prose-reader p {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose-reader h1 {
  font-size: 1.75em;
  margin-top: 0;
  margin-bottom: 0.6em;
  line-height: 1.2;
}

.prose-reader h2 {
  font-size: 1.375em;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

.prose-reader h3 {
  font-size: 1.125em;
  margin-top: 1.4em;
  margin-bottom: 0.4em;
  line-height: 1.4;
}

.prose-reader blockquote {
  font-style: italic;
  border-left: 3px solid #d4d4d8;
  padding-left: 1em;
  margin: 1.5em 0;
}

.prose-reader ul,
.prose-reader ol {
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1.5em;
}

.prose-reader li {
  margin-top: 0.375em;
  margin-bottom: 0.375em;
}

.prose-reader img {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

.prose-reader figure {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

.prose-reader figcaption {
  font-size: 0.875em;
  color: #71717a;
  margin-top: 0.5em;
}
